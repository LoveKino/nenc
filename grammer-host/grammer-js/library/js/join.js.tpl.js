module.exports = "'use strict';\n\n// support to es3\nvar sys_void, sys_pair,\n    sys_module, sys_import,\n    sys_application, sys_statements,\n    sys_guarded_abstraction, sys_guarded_abstraction_line,\n    sys_exp, sys_variable, sys_ordinary_abstraction, sys_letBinding, sys_condition,\n    sys_runProgram,\n\n    sys_data, sys_object, sys_array, sys_string,\n    sys_null, sys_number, sys_true, sys_false,\n    addMetaMethod;\n\n// require system library\nvar nencJsInterpreter = require('nenc-js-interpreter');\n    \n!(function(module) {\n    try {\n        var _ = nencJsInterpreter;\n        var dsl = _.sys_programDSL;\n\n        sys_void = dsl.sys_void; \n        sys_pair = dsl.sys_pair; \n\n        sys_import = dsl.sys_import;\n        sys_letBinding = dsl.sys_letBinding;\n        sys_statements = dsl.sys_statements;\n        sys_exp = dsl.sys_exp;\n        sys_variable = dsl.sys_variable; \n        sys_ordinary_abstraction = dsl.sys_ordinary_abstraction;\n        sys_application = dsl.sys_application;\n        sys_condition = dsl.sys_condition;\n\n        sys_guarded_abstraction = dsl.sys_guarded_abstraction, \n        sys_guarded_abstraction_line = dsl.sys_guarded_abstraction_line,\n\n        sys_data = dsl.sys_data;\n        sys_object = dsl.sys_object; \n        sys_array = dsl.sys_array;\n        sys_string = dsl.sys_string;\n        sys_null = dsl.sys_null;\n        sys_number = dsl.sys_number;\n        sys_true = dsl.sys_true;\n        sys_false = dsl.sys_false;\n\n        //\n        sys_module = _.sys_module;\n        sys_runProgram = _.sys_runProgram;\n        addMetaMethod = _.addMetaMethod;\n    }\n    catch(err) {\n        if(typeof console !== 'undefined') {\n            console.log('error happend when try to import system code.');\n        }\n        throw err;\n    }\n})();\n\ntry {\n<%= libraryImportCode %>\n} catch(err) {\n    console.log('error happened when try to import library code.');\n    throw err;\n}\n\n<%= custom_code %>\n\n(function() {\n<%= middle_code %>\n\n    var __program__result__ = sys_runProgram(\"<%= indexPath %>\");\n\n    // exports result\n    if(typeof module === 'object' && module) {\n        module.exports = __program__result__;\n    }\n    return __program__result__;\n})();\n"