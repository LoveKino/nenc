var nencJsInterpreter=function(e){function t(l){if(a[l])return a[l].exports;var r=a[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,l){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,a){"use strict";let{Context:l}=a(2),r=function(){},o=function(e,t){this.fun=e,this.params=t};(o.prototype=new r).constructor=o,o.prototype.getValue=function(e){return this.fun.getValue(e).run(this.params,e)};let i=function(e,t){this.variables=e,this.body=t};(i.prototype=new r).constructor=i,i.prototype.getValue=function(e){return new u(this.variables,this.body,e)};let u=function(e,t,a){this.variables=e,this.body=t,this.definitionCtx=a};u.prototype.run=function(e,t){let a={},o=e.length,i=this.variables.length,s=Math.min(o,i);for(let l=0;l<s;l++)e[l]instanceof r?a[this.variables[l].variableName]=new n(e[l],t):a[this.variables[l].variableName]=e[l];let v=new l(a,this.definitionCtx);if(o>=i)return this.body.getValue(v);{let e=this.variables.slice(o);return new u(e,this.body,v)}};let n=function(e,t){this.code=e,this.context=t};n.prototype=new r,n.prototype.constructor=n,n.prototype.getValue=function(){return this.code.getValue(this.context)};let s=function(e){this.variableName=e};(s.prototype=new r).constructor=s,s.prototype.getValue=function(e){let{context:t,value:a}=e.lookupVariable(this.variableName);return a instanceof r&&(a=a.getValue(e),t.variableMap[this.variableName]=a),a};let v=function(e){this.list=e};(v.prototype=new r).constructor=s,v.prototype.getValue=function(e){let t=[];for(let a=0;a<this.list.length;a++)t.push(this.list[a].getValue(e));return t},e.exports={Sys_Application:o,Sys_Abstraction:i,Sys_Variable:s,Sys_Array:v,Abstraction:u}},function(e,t,a){"use strict";let{Context:l}=a(2),r=a(5),o=new l(r);e.exports={runProgram:(e,t={})=>e.getValue(new l(t,o))}},function(e,t){let a=function(e,t){this.parent=t,this.variableMap=e};a.prototype.lookupVariable=function(e){var t=this.variableMap[e];if(void 0!==t)return{context:this,value:t};{let t=this.parent;if(t)return t.lookupVariable(e);throw new Error("Missing definition for variable "+e+".")}},e.exports={Context:a}},function(e,t,a){"use strict";let l=a(4),{Sys_Application:r,Sys_Abstraction:o,Sys_Variable:i,Sys_Array:u}=a(0),{runProgram:n}=a(1);e.exports={Sys_Application:r,Sys_Abstraction:o,Sys_Variable:i,Sys_Array:u,runProgram:n,Sys_ModuleFactory:l}},function(e,t,a){"use strict";let{runProgram:l}=a(1),{Abstraction:r}=a(0),o=function(e){this.nencModules={};let t=this;this.moduleContextMap=e||{},this.moduleContextMap["std::getModule"]=new r([{variableName:"modulePath"}],{getValue:e=>t.importModule(e.lookupVariable("modulePath").value.getValue(e))})};o.prototype.importModule=function(e){let t=this.nencModules;if(!t[e])throw new Error(`missing module ${e}. Modules are ${JSON.stringify(Object.keys(t))}`);if(t[e].resolved)return t[e].module;{let a=t[e].moduleCode,r=l(a,this.moduleContextMap);return t[e].module=r,t[e].resolved=!0,r}},o.prototype.defineModule=function(e,t){this.nencModules[e]={moduleCode:t,resolved:!1}},e.exports=o},function(e,t,a){"use strict";let{Abstraction:l}=a(0);e.exports={"+":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)+e.lookupVariable("v2").value.getValue(e)}),"-":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)-e.lookupVariable("v2").value.getValue(e)}),"*":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)*e.lookupVariable("v2").value.getValue(e)}),"/":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)/e.lookupVariable("v2").value.getValue(e)}),">":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)>e.lookupVariable("v2").value.getValue(e)}),"<":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>e.lookupVariable("v1").value.getValue(e)<e.lookupVariable("v2").value.getValue(e)}),"&&":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>!!e.lookupVariable("v1").value.getValue(e)&&!!e.lookupVariable("v2").value.getValue(e)}),"||":new l([{variableName:"v1"},{variableName:"v2"}],{getValue:e=>!!e.lookupVariable("v1").value.getValue(e)||!!e.lookupVariable("v2").value.getValue(e)}),"std::if":new l([{variableName:"c"},{variableName:"p1"},{variableName:"p2"}],{getValue:e=>e.lookupVariable("c").value.getValue(e)?e.lookupVariable("p1").value.getValue(e):e.lookupVariable("p2").value.getValue(e)}),"std::error":new l([{variableName:"error"}],{getValue:e=>{throw new Error(e.variableMap.error.getValue(e))}}),"std::number":new l([{variableName:"num"}],{getValue:e=>Number(e.variableMap.num)}),"std::string":new l([{variableName:"str"}],{getValue:e=>e.variableMap.str}),"std::object":new l([{variableName:"list"}],{getValue:e=>{let t=e.variableMap.list.getValue(e),a={},l=0;for(;l<t.length-1;){let e=t[l],r=t[++l];a[e]=r}return a}}),null:new l([],{getValue:()=>null}),true:new l([],{getValue:()=>!0}),false:new l([],{getValue:()=>!1}),"std::statements":new l([{variableName:"statements"}],{getValue:e=>{let t=e.variableMap.statements.getValue(e),a=null;for(let e=0;e<t.length;e++)a=t[e];return a}})}}]);